<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Студентський Портал КБЗІ-5.01</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-5px); } 100% { transform: translateY(0px); } }
        .animate-float { animation: float 3s ease-in-out infinite; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                Calendar: <path d="M19 4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm-14-1a1 1 0 0 1 1 1v1h10V4a1 1 0 0 1 2 0v1h1a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h1V4a1 1 0 0 1 1-1Z M19 20H5V9h14v11Z" />,
                Users: <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2 M16 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z M23 21v-2a4 4 0 0 0-3-3.87 M16 3.13a4 4 0 0 1 0 7.75" />,
                CreditCard: <><rect x="2" y="5" width="20" height="14" rx="2" /><line x1="2" y1="10" x2="22" y2="10" /></>,
                Video: <><path d="M23 7l-7 5 7 5V7z" /><rect x="1" y="5" width="15" height="14" rx="2" ry="2" /></>,
                Clock: <><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></>,
                Copy: <><rect x="9" y="9" width="13" height="13" rx="2" ry="2" /><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" /></>,
                Check: <polyline points="20 6 9 17 4 12" />,
                ChevronRight: <polyline points="9 18 15 12 9 6" />,
                BookOpen: <><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" /><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" /></>,
                AlertCircle: <><circle cx="12" cy="12" r="10" /><line x1="12" y1="8" x2="12" y2="12" /><line x1="12" y1="16" x2="12.01" y2="16" /></>,
                Gift: <><polyline points="20 12 20 22 4 22 4 12" /><rect x="2" y="7" width="20" height="5" /><line x1="12" y1="22" x2="12" y2="7" /><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z" /><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z" /></>,
                Bell: <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
            };

            return (
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="2" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {icons[name] || <circle cx="12" cy="12" r="10" />}
                </svg>
            );
        };

        const TEACHERS_LINKS = {
            "Івахненко Максим Сергійович": "https://us05web.zoom.us/j/9654735561?pwd=GJXbjpb8ZSyfFEnRIjDZ06bZQeO11J.1",
            "Лімарь Ігор Валерійович": "https://us04web.zoom.us/j/3578967316?pwd=MmVGdkdFcGpqVGxVZWpTbFh6SFpyZz09",
            "Кононович Володимир Григорович": "https://zoom.us/j/5543600598?pwd=allYdjdkY1Y5QTJDM2tqNlE0Z29NZz09",
            "Васіліу Євген Вікторович": "https://us05web.zoom.us/j/86878865177?pwd=3wZXXdkal1ITZ7NFPadqZtdoJInDDf.1",
            "Голев Денис Володимирович": "https://us04web.zoom.us/j/74716679237?pwd=pK0VdhJKvUweJZn7OcqeBHjpLutMo7.1",
            "Севастєєв Євген Олександрович": "https://us04web.zoom.us/j/7340805536?pwd=enN6enp6VEw0cUJqM1RNSmtta3grQT09",
            "Сєдов Костянтин Станіславович": "https://us04web.zoom.us/j/79240807967?pwd=jBlpYVzyqaOD2FjIQYfnsnDqyn1t9Z.1",
            "Бєлова Юлія Володимирівна": "https://us04web.zoom.us/j/73821442465?pwd=DPeaWj07b5BO5WowQXe2yZGFl4dh1I.1",
            "Корчинський Володимир Вікторович": "https://us02web.zoom.us/j/6197950058?pwd=YllCUkYwYlZYYU9rYmdsOUNTN3RlQT09",
            "Кільдішев Віталій Йосипович": "https://us04web.zoom.us/j/77856902155?pwd=bGpPTDE2YXYzMFRCRjFVL1FGUTREQT09",
            "Онацький Олексій Віталійович": "https://us04web.zoom.us/j/79835170418?pwd=Q6aRkueJwbeqd5aIMaxxsbWQ4JTtf5.1",
            "Басов Віктор Євгенович": "https://meet.google.com/ccp-epzd-wnr",
            "Стайкуца Сергій Володимирович": "https://us05web.zoom.us/j/7655051866?pwd=YlorZnVXeDFtbHMrYjRYZFBTUlN4Zz09"
        };

        const GROUP_LIST = [
            { id: 1, name: "Бабаченко В'ячеслав Андрійович", bday: "05.11" },
            { id: 2, name: "Багній Діана Олександрівна", bday: "28.03" },
            { id: 3, name: "Бескровний Володимир Янович", bday: "12.07" },
            { id: 4, name: "Букач Владислав Миколайович", bday: null },
            { id: 5, name: "Браткевич Максим Ігорович", bday: "02.09" },
            { id: 6, name: "Бухтояров Артем Артемович", bday: "30.10" },
            { id: 7, name: "Венерчук Євгеній Віталійович", bday: "12.07" },
            { id: 8, name: "Гальцев Владислав Олександрович", bday: "25.05" },
            { id: 9, name: "Горшкова Анастасія Єгорівна", bday: "14.11" },
            { id: 10, name: "Демовський Артем Віталійович", bday: "19.09" },
            { id: 11, name: "Довгань Михайло Олегович", role: "Зам. старости", bday: "23.01" },
            { id: 12, name: "Іваненко Поліна Олегівна", bday: "12.01" },
            { id: 13, name: "Ісак-Заде Діана Георгіївна", bday: "29.03" },
            { id: 14, name: "Караконстантин Родіон Іванович", bday: "01.05" },
            { id: 15, name: "Кириленко Тимофій Іванович", bday: "14.08" },
            { id: 16, name: "Кір'як Кірілл Сергійович", bday: "14.05" },
            { id: 17, name: "Кірова Софія Василівна", bday: "05.11" },
            { id: 18, name: "Кузьменко Олександр Володимирович", bday: "04.03" },
            { id: 19, name: "Марковський Олександр Анатолійович", bday: "28.06" },
            { id: 20, name: "Маслянникова Анастасія Олександрівна", bday: "09.08" },
            { id: 21, name: "Матвєєв Артем Олегович", bday: "01.09" },
            { id: 22, name: "Михайленко Георгій Олександрович", bday: "17.04" },
            { id: 23, name: "Налбат Данило Олександрович", bday: "10.03" },
            { id: 24, name: "Патраков Євгеній Віталійович", bday: "07.02" },
            { id: 25, name: "Петрик Сергій Юрійович", bday: "14.10" },
            { id: 26, name: "Сільвейструк Олексій Русланович", role: "Староста", bday: "04.11" },
            { id: 27, name: "Соболь Анастасія Сергіївна", bday: "12.01" },
            { id: 28, name: "Шаповал Ксенія Ігорівна", bday: "26.04" },
            { id: 29, name: "Швець Дар'я Андріївна", bday: "04.10" },
            { id: 30, name: "Шелехов Петро Юрійович", bday: "18.02" },
            { id: 31, name: "Український Микола Володимирович", bday: "05.08" },
            { id: 32, name: "Лучинський Владислав Сергійович", bday: "07.03" }
        ];

        const SCHEDULE = {
            1: [], 
            2: [ 
                { time: "09:35-10:55", subject: "Кіберфізична безпека об'єктів критичної інфраструктури (Пр/Лб)", weeks: "4, 5-11", teacher: "Кононович Володимир Григорович", teacher2: "Голев Денис Володимирович", room: "108" },
                { time: "11:10-12:30", subject: "Кіберфізична безпека об'єктів критичної інфраструктури (Лк)", weeks: "3-11", teacher: "Кононович Володимир Григорович", room: "108" },
                { time: "11:10-12:30", subject: "Кіберфізична безпека об'єктів критичної інфраструктури (Пр)", weeks: "12-16", teacher: "Кононович Володимир Григорович", room: "108" },
                { time: "12:45-14:05", subject: "Криптологія (Лк)", weeks: "3-12", teacher: "Басов Віктор Євгенович", room: "108" },
                { time: "12:45-14:05", subject: "Криптологія (Пр)", weeks: "13-16", teacher: "Басов Віктор Євгенович", room: "108" }
            ],
            3: [ 
                { time: "08:00-09:20", subject: "Комплексні системи безпеки (Лк)", weeks: "3-11", teacher: "Стайкуца Сергій Володимирович", room: "250" },
                { time: "08:00-09:20", subject: "Комплексні системи безпеки (Пр)", weeks: "12-16", teacher: "Стайкуца Сергій Володимирович", room: "250" },
                { time: "09:35-10:55", subject: "Управління доступом до інформаційних ресурсів (Лк)", weeks: "3-9", teacher: "Корчинський Володимир Вікторович", room: "105" },
                { time: "09:35-10:55", subject: "Управління доступом до інформаційних ресурсів (Пр)", weeks: "10-16", teacher: "Корчинський Володимир Вікторович", room: "105" },
                { time: "11:10-12:30", subject: "Управління доступом до інформаційних ресурсів (Пр)", weeks: "4", teacher: "Корчинський Володимир Вікторович", teacher2: "Бєлова Юлія Володимирівна", room: "105" },
                { time: "11:10-12:30", subject: "Управління доступом до інформаційних ресурсів (Лб)", weeks: "5-11", teacher: "Корчинський Володимир Вікторович", teacher2: "Бєлова Юлія Володимирівна", room: "105" },
                { time: "12:45-14:05", subject: "Криптологія (Пр)", weeks: "4-5", teacher: "Басов Віктор Євгенович", teacher2: "Голев Денис Володимирович", room: "107" },
                { time: "12:45-14:05", subject: "Криптологія (Лб)", weeks: "6-11", teacher: "Басов Віктор Євгенович", teacher2: "Голев Денис Володимирович", room: "107" },
            ],
            4: [ 
                { time: "08:00-09:20", subject: "Спеціальні вимірювання в галузі технічного захисту інформації (Лк)", weeks: "3-11", teacher: "Онацький Олексій Віталійович", room: "127" },
                { time: "08:00-09:20", subject: "Спеціальні вимірювання в галузі технічного захисту інформації (Пр)", weeks: "12-16", teacher: "Онацький Олексій Віталійович", room: "127" },
                { time: "09:35-10:55", subject: "Спеціальні вимірювання в галузі технічного захисту інформації (Пр)", weeks: "4-5", teacher: "Онацький Олексій Віталійович", teacher2: "Голев Денис Володимирович", room: "127" },
                { time: "09:35-10:55", subject: "Спеціальні вимірювання в галузі технічного захисту інформації (Лб)", weeks: "6-11", teacher: "Онацький Олексій Віталійович", teacher2: "Голев Денис Володимирович", room: "127" },
                { time: "11:10-12:30", subject: "Моніторинг та аудит інформаційно-комунікаційних систем (Лк)", weeks: "3-12", teacher: "Кільдішев Віталій Йосипович", room: "250" },
                { time: "11:10-12:30", subject: "Моніторинг та аудит інформаційно-комунікаційних систем (Пр)", weeks: "13-17", teacher: "Кільдішев Віталій Йосипович", room: "250" },
                { time: "12:45-14:05", subject: "Моніторинг та аудит інформаційно-комунікаційних систем (Пр)", weeks: "4-7", teacher: "Кільдішев Віталій Йосипович", teacher2: "Голев Денис Володимирович", room: "250" },
                { time: "12:45-14:05", subject: "Моніторинг та аудит інформаційно-комунікаційних систем (Лб)", weeks: "8-16", teacher: "Кільдішев Віталій Йосипович", teacher2: "Голев Денис Володимирович", room: "250" },
            ],
            5: [ 
                { time: "09:35-10:55", subject: "Комплексні системи безпеки (Пр)", weeks: "4-7", teacher: "Стайкуца Сергій Володимирович", room: "250" },
                { time: "09:35-10:55", subject: "Комплексні системи безпеки (Лб)", weeks: "8-17", teacher: "Стайкуца Сергій Володимирович", room: "250" },
                { time: "11:10-12:30", subject: "Менеджмент в системі корпоративної інформаційної безпеки (Лк)", weeks: "3-13", teacher: "Васіліу Євген Вікторович", room: "108" },
                { time: "12:45-14:05", subject: "Менеджмент в системі корпоративної інформаційної безпеки (Пр)", weeks: "4-14", teacher: "Бєлова Юлія Володимирівна", room: "108" },
            ],
            6: [], 
            0: []  
        };

        const DAYS_MAP = {
            1: "Понеділок",
            2: "Вівторок",
            3: "Середа",
            4: "Четвер",
            5: "П'ятниця",
            6: "Субота",
            0: "Неділя"
        };

        const checkWeek = (weekString, currentWeek) => {
            if (!weekString) return true; 
            const parts = weekString.split(',').map(p => p.trim());
            
            for (let part of parts) {
                if (part.includes('-')) {
                    const [start, end] = part.split('-').map(Number);
                    if (currentWeek >= start && currentWeek <= end) return true;
                } else {
                    if (Number(part) === currentWeek) return true;
                }
            }
            return false;
        };

        const CopyButton = ({ text, label }) => {
            const [copied, setCopied] = useState(false);

            const handleCopy = () => {
                const copyToClipboard = (str) => {
                    const el = document.createElement('textarea');
                    el.value = str;
                    el.setAttribute('readonly', '');
                    el.style.position = 'absolute';
                    el.style.left = '-9999px';
                    document.body.appendChild(el);
                    el.select();
                    document.execCommand('copy');
                    document.body.removeChild(el);
                };

                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text)
                        .then(() => setCopied(true))
                        .catch(() => copyToClipboard(text));
                } else {
                    copyToClipboard(text);
                    setCopied(true);
                }
                setTimeout(() => setCopied(false), 2000);
            };

            return (
                <button 
                    onClick={handleCopy}
                    className="flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium active:scale-95"
                >
                    <Icon name={copied ? "Check" : "Copy"} size={16} />
                    {label || (copied ? "Скопійовано" : "Копіювати")}
                </button>
            );
        };

        const Header = ({ currentWeek, currentDayIndex, now }) => {
            const [birthdayPeople, setBirthdayPeople] = useState([]);

            useEffect(() => {
                if (!now) return;
                const todayStr = now.toLocaleDateString('uk-UA', { day: '2-digit', month: '2-digit' });
                const people = GROUP_LIST.filter(p => p.bday === todayStr);
                setBirthdayPeople(people);
            }, [now]);

            const formatTime = (date) => {
                return date.toLocaleTimeString('uk-UA', { hour: '2-digit', minute: '2-digit' });
            };

            const formatDate = (date) => {
                return date.toLocaleDateString('uk-UA', { day: 'numeric', month: 'long' });
            };

            return (
                <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-6 rounded-b-3xl shadow-lg mb-6">
                    <div className="flex justify-between items-start">
                        <div>
                            <h2 className="text-blue-100 font-medium text-sm mb-1 uppercase tracking-wider">КБЗІ-5.01</h2>
                            <h1 className="text-3xl font-bold mb-1">{formatTime(now)}</h1>
                            <p className="text-blue-100">{DAYS_MAP[currentDayIndex]}, {formatDate(now)}</p>
                        </div>
                        <div className="bg-white/10 backdrop-blur-md px-4 py-2 rounded-xl text-center border border-white/20">
                            <span className="block text-xs text-blue-100 uppercase">Тиждень</span>
                            <span className="text-2xl font-bold">{currentWeek}</span>
                        </div>
                    </div>
                    {birthdayPeople.length > 0 && (
                        <div className="mt-4 bg-white/20 backdrop-blur-md p-3 rounded-xl border border-white/30 flex items-start gap-3 animate-pulse">
                            <div className="bg-yellow-400 text-yellow-900 p-2 rounded-full animate-float">
                                <Icon name="Gift" size={20} />
                            </div>
                            <div>
                                <p className="text-sm font-bold text-white">Сьогодні День Народження! 🎉</p>
                                <p className="text-xs text-blue-100">Вітаємо: {birthdayPeople.map(p => p.name.split(' ')[0]).join(', ')}</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const UpcomingClassAlert = ({ currentWeek, now }) => {
            const [alert, setAlert] = useState(null);

            useEffect(() => {
                if (!now) return;
                
                const currentDay = now.getDay();
                const currentMinutes = now.getHours() * 60 + now.getMinutes();
                
                const todaysLessons = SCHEDULE[currentDay] || [];
                const activeLessons = todaysLessons.filter(l => checkWeek(l.weeks, currentWeek));

                let found = null;

                for (let lesson of activeLessons) {
                    const [startH, startM] = lesson.time.split('-')[0].split(':').map(Number);
                    const [endH, endM] = lesson.time.split('-')[1].split(':').map(Number);
                    
                    const startMinutes = startH * 60 + startM;
                    const endMinutes = endH * 60 + endM;

                    if (currentMinutes >= startMinutes - 5 && currentMinutes <= endMinutes) {
                        found = { 
                            ...lesson, 
                            isRunning: currentMinutes >= startMinutes,
                            minutesUntilStart: startMinutes - currentMinutes
                        };
                        break;
                    }
                }
                setAlert(found);
            }, [currentWeek, now]);

            if (!alert) return null;

            const teacherLink = TEACHERS_LINKS[alert.teacher];

            return (
                <div className="mx-4 mb-6 bg-indigo-600 rounded-xl p-4 shadow-xl text-white border-2 border-indigo-400 animate-pulse">
                    <div className="flex items-center gap-3 mb-2">
                        <div className="bg-white text-indigo-600 p-2 rounded-full">
                            <Icon name="Bell" size={20} />
                        </div>
                        <div>
                            <p className="text-xs font-bold uppercase opacity-80">
                                {alert.isRunning ? "Пара йде зараз" : `Початок через ${alert.minutesUntilStart} хв`}
                            </p>
                            <p className="font-bold leading-tight">{alert.subject}</p>
                        </div>
                    </div>
                    {teacherLink && (
                        <a href={teacherLink} target="_blank" rel="noreferrer" className="w-full bg-white text-indigo-700 py-2 rounded-lg font-bold text-center block hover:bg-gray-100 transition-colors flex items-center justify-center gap-2">
                            <Icon name="Video" size={18} />
                            Приєднатися
                        </a>
                    )}
                </div>
            );
        };

        const ClassCard = ({ lesson, isNow, isNext }) => {
            const getLink = (name) => TEACHERS_LINKS[name] || null;
            const link1 = getLink(lesson.teacher);
            const link2 = lesson.teacher2 ? getLink(lesson.teacher2) : null;

            return (
                <div className={`relative p-4 rounded-xl mb-4 border-l-4 transition-all ${isNow ? 'bg-white border-green-500 shadow-md ring-2 ring-green-100' : 'bg-white border-blue-500 shadow-sm opacity-90'}`}>
                    {isNow && <span className="absolute top-2 right-2 bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold animate-pulse">ЗАРАЗ</span>}
                    {isNext && <span className="absolute top-2 right-2 bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full font-bold">ДАЛІ</span>}
                    
                    <div className="flex items-center gap-2 text-gray-500 text-sm font-medium mb-1">
                        <Icon name="Clock" size={14} />
                        {lesson.time}
                        <span className="mx-1">•</span>
                        <span>Ауд. {lesson.room}</span>
                    </div>
                    
                    <h3 className="font-bold text-gray-800 text-lg leading-tight mb-3">{lesson.subject}</h3>
                    
                    <div className="flex flex-col gap-2">
                        {lesson.teacher && (
                            <div className="flex items-center justify-between bg-gray-50 p-2 rounded-lg">
                                <span className="text-sm font-medium text-gray-700">{lesson.teacher}</span>
                                {link1 ? (
                                    <a href={link1} target="_blank" rel="noreferrer" className="flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded-md text-xs font-bold hover:bg-blue-700 transition-colors">
                                        <Icon name="Video" size={14} /> ZOOM
                                    </a>
                                ) : <span className="text-xs text-gray-400">Немає посилання</span>}
                            </div>
                        )}
                        
                        {lesson.teacher2 && (
                            <div className="flex items-center justify-between bg-gray-50 p-2 rounded-lg">
                                <span className="text-sm font-medium text-gray-700">{lesson.teacher2}</span>
                                {link2 ? (
                                    <a href={link2} target="_blank" rel="noreferrer" className="flex items-center gap-1 bg-blue-600 text-white px-3 py-1.5 rounded-md text-xs font-bold hover:bg-blue-700 transition-colors">
                                        <Icon name="Video" size={14} /> ZOOM
                                    </a>
                                ) : <span className="text-xs text-gray-400">Немає посилання</span>}
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const ScheduleTab = ({ currentWeek, currentDayIndex, now }) => {
            const [selectedDay, setSelectedDay] = useState(currentDayIndex === 0 ? 1 : currentDayIndex);
            const daysContainerRef = useRef(null);

            useEffect(() => {
                if (daysContainerRef.current) {
                    const buttons = daysContainerRef.current.querySelectorAll('button');
                    const btnIndex = selectedDay - 1;
                    if (buttons[btnIndex]) {
                        buttons[btnIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    }
                }
            }, [selectedDay]);

            const filteredLessons = useMemo(() => {
                const lessons = SCHEDULE[selectedDay] || [];
                return lessons.filter(l => checkWeek(l.weeks, currentWeek));
            }, [selectedDay, currentWeek]);

            const currentMinutes = now.getHours() * 60 + now.getMinutes();

            const getStatus = (timeRange) => {
                if (selectedDay !== currentDayIndex) return 'future'; 
                const [start, end] = timeRange.split('-').map(t => {
                    const [h, m] = t.split(':').map(Number);
                    return h * 60 + m;
                });
                
                if (currentMinutes >= start && currentMinutes <= end) return 'now';
                if (currentMinutes < start) return 'next';
                return 'past';
            };

            let nextFound = false;

            return (
                <div className="pb-20">
                    <div ref={daysContainerRef} className="flex overflow-x-auto gap-3 px-4 pb-4 mb-2 hide-scrollbar snap-x snap-mandatory">
                        {[1, 2, 3, 4, 5].map(dayIdx => (
                            <button
                                key={dayIdx}
                                onClick={() => setSelectedDay(dayIdx)}
                                className={`flex-shrink-0 snap-start px-6 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ${
                                    selectedDay === dayIdx 
                                    ? 'bg-blue-600 text-white shadow-md transform scale-105' 
                                    : 'bg-white text-gray-600 border border-gray-200'
                                }`}
                            >
                                {DAYS_MAP[dayIdx]}
                            </button>
                        ))}
                         <div className="w-4 flex-shrink-0"></div>
                    </div>

                    <div className="px-4">
                        {filteredLessons.length > 0 ? (
                            filteredLessons.map((lesson, idx) => {
                                const status = getStatus(lesson.time);
                                let isNext = false;
                                if (status === 'next' && !nextFound) {
                                    isNext = true;
                                    nextFound = true;
                                }
                                return <ClassCard key={idx} lesson={lesson} isNow={status === 'now'} isNext={isNext} />;
                            })
                        ) : (
                            <div className="flex flex-col items-center justify-center py-12 text-gray-400">
                                <Icon name="BookOpen" size={48} className="mb-4 opacity-50" />
                                <p>На цей день пар немає або вони не заплановані на цей тиждень.</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const TeachersTab = () => {
            const [search, setSearch] = useState("");
            const filtered = Object.entries(TEACHERS_LINKS).filter(([name]) => 
                name.toLowerCase().includes(search.toLowerCase())
            );

            return (
                <div className="px-4 pb-20">
                    <div className="sticky top-0 bg-[#f3f4f6] pt-2 pb-4 z-10">
                        <input 
                            type="text" 
                            placeholder="Пошук викладача..." 
                            className="w-full bg-white px-4 py-3 rounded-xl shadow-sm border-none focus:ring-2 focus:ring-blue-500 outline-none"
                            value={search}
                            onChange={(e) => setSearch(e.target.value)}
                        />
                    </div>
                    <div className="grid gap-3">
                        {filtered.map(([name, link]) => (
                            <div key={name} className="bg-white p-4 rounded-xl shadow-sm flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold">
                                        {name[0]}
                                    </div>
                                    <span className="font-medium text-gray-800">{name}</span>
                                </div>
                                <div className="flex gap-2">
                                    <CopyButton text={link} label="" />
                                    <a href={link} target="_blank" rel="noreferrer" className="bg-blue-600 text-white w-9 h-9 flex items-center justify-center rounded-lg hover:bg-blue-700">
                                        <Icon name="ChevronRight" size={20} />
                                    </a>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const PaymentTab = () => {
            return (
                <div className="px-4 pb-20">
                    <div className="bg-white p-6 rounded-2xl shadow-sm mb-4">
                        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <Icon name="CreditCard" className="text-blue-600" />
                            Реквізити оплати
                        </h3>
                        <div className="space-y-6">
                            <div>
                                <label className="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1 block">Одержувач</label>
                                <p className="text-gray-800 mb-2">Державний університет інтелектуальних технологій і зв’язку</p>
                            </div>
                            <div className="bg-blue-50 p-4 rounded-xl border border-blue-100">
                                <label className="text-xs text-blue-500 uppercase font-bold tracking-wider mb-1 block">IBAN (Рахунок)</label>
                                <p className="text-gray-900 font-mono text-sm break-all mb-3 font-medium">UA498201720313271001201057205</p>
                                <CopyButton text="UA498201720313271001201057205" label="Копіювати IBAN" />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1 block">МФО</label>
                                    <p className="font-mono text-gray-800 mb-2">820172</p>
                                    <CopyButton text="820172" label="Код" />
                                </div>
                                <div>
                                    <label className="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1 block">ЄДРПОУ</label>
                                    <p className="font-mono text-gray-800 mb-2">43997335</p>
                                    <CopyButton text="43997335" label="Код" />
                                </div>
                            </div>
                            <div className="border-t pt-4">
                                <label className="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1 block">Призначення платежу</label>
                                <div className="bg-yellow-50 p-3 rounded-lg border border-yellow-100 flex gap-3 items-start">
                                    <Icon name="AlertCircle" size={18} className="text-yellow-600 flex-shrink-0 mt-0.5" />
                                    <p className="text-sm text-yellow-800 italic">
                                        Оплата за навчання студента <span className="font-bold">[ПІБ СТУДЕНТА]</span>, факультет, форма навчання, курс.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const GroupTab = () => {
            const getZodiacSign = (dateStr) => {
                if (!dateStr) return null;
                const [day, month] = dateStr.split('.').map(Number);
                if ((month == 1 && day <= 20) || (month == 12 && day >= 22)) return "♑";
                if ((month == 1 && day >= 21) || (month == 2 && day <= 18)) return "♒";
                if ((month == 2 && day >= 19) || (month == 3 && day <= 20)) return "♓";
                if ((month == 3 && day >= 21) || (month == 4 && day <= 19)) return "♈";
                if ((month == 4 && day >= 20) || (month == 5 && day <= 20)) return "♉";
                if ((month == 5 && day >= 21) || (month == 6 && day <= 20)) return "♊";
                if ((month == 6 && day >= 21) || (month == 7 && day <= 22)) return "♋";
                if ((month == 7 && day >= 23) || (month == 8 && day <= 22)) return "♌";
                if ((month == 8 && day >= 23) || (month == 9 && day <= 22)) return "♍";
                if ((month == 9 && day >= 23) || (month == 10 && day <= 22)) return "♎";
                if ((month == 10 && day >= 23) || (month == 11 && day <= 21)) return "♏";
                if ((month == 11 && day >= 22) || (month == 12 && day <= 21)) return "♐";
                return null;
            };

            return (
                <div className="px-4 pb-20">
                     <div className="bg-white rounded-xl shadow-sm overflow-hidden">
                        {GROUP_LIST.map((student, idx) => (
                            <div key={student.id} className={`p-4 flex items-center justify-between border-b last:border-0 ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}`}>
                                <div className="flex items-center gap-3">
                                    <span className="text-gray-400 font-mono text-sm w-6">{student.id}</span>
                                    <div>
                                        <p className="text-gray-800 font-medium">{student.name}</p>
                                        <div className="flex gap-2 mt-1">
                                            {student.role && (
                                                <span className={`text-xs px-2 py-0.5 rounded-full font-bold ${student.role === 'Староста' ? 'bg-indigo-100 text-indigo-700' : 'bg-purple-100 text-purple-700'}`}>
                                                    {student.role}
                                                </span>
                                            )}
                                            {student.bday && (
                                                <span className="text-xs px-2 py-0.5 rounded-full bg-pink-50 text-pink-600 font-mono flex items-center gap-1">
                                                    🎂 {student.bday} {getZodiacSign(student.bday)}
                                                </span>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('schedule');
            
            const [now, setNow] = useState(new Date());

            useEffect(() => {
                const timer = setInterval(() => setNow(new Date()), 1000);
                return () => clearInterval(timer);
            }, []);
            
            const currentWeek = useMemo(() => {
                const start = new Date('2025-09-01T00:00:00');
                if (now < start) return 1; 
                const diffTime = now - start;
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)); 
                return Math.floor(diffDays / 7) + 1;
            }, [now]);

            const dayIndex = now.getDay(); 

            return (
                <div className="max-w-md mx-auto min-h-screen bg-[#f3f4f6] relative">
                    <Header currentWeek={currentWeek} currentDayIndex={dayIndex} now={now} />
                    <UpcomingClassAlert currentWeek={currentWeek} now={now} />
                    {activeTab === 'schedule' && <ScheduleTab currentWeek={currentWeek} currentDayIndex={dayIndex} now={now} />}
                    {activeTab === 'teachers' && <TeachersTab />}
                    {activeTab === 'payment' && <PaymentTab />}
                    {activeTab === 'group' && <GroupTab />}
                    <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-3 flex justify-between items-center z-50 max-w-md mx-auto">
                        <button 
                            onClick={() => setActiveTab('schedule')}
                            className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'schedule' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <Icon name="Calendar" size={24} />
                            <span className="text-[10px] font-medium">Розклад</span>
                        </button>
                        <button 
                            onClick={() => setActiveTab('teachers')}
                            className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'teachers' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <Icon name="Video" size={24} />
                            <span className="text-[10px] font-medium">Посилання</span>
                        </button>
                         <button 
                            onClick={() => setActiveTab('group')}
                            className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'group' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <Icon name="Users" size={24} />
                            <span className="text-[10px] font-medium">Група</span>
                        </button>
                        <button 
                            onClick={() => setActiveTab('payment')}
                            className={`flex flex-col items-center gap-1 transition-colors ${activeTab === 'payment' ? 'text-blue-600' : 'text-gray-400'}`}
                        >
                            <Icon name="CreditCard" size={24} />
                            <span className="text-[10px] font-medium">Оплата</span>
                        </button>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>